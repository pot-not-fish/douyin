## 微服务拆分

- 拆分的思路
  - 如果拆分后实现复杂（比如涉及数据同步问题和回滚）则不考虑拆分
  - 符合设计原则，保证如果需要额外的功能，添加新的rpc服务接口，而不是修改原来的代码
  - 考虑安全性，互不干扰
- 打算拆分成用户服务rpc，视频服务rpc，聊天功能rpc，评论功能rpc，视频点赞功能rpc，用户关注功能rpc
- 用户服务rpc
  - 用户信息查询操作
  - 用户创建操作
- 视频服务rpc
  - 返回视频feed流
  - 返回用户点赞的视频
  - 返回用户所有的视频
  - 通过视频id，返回一组视频信息
  - 创建视频操作
- 评论功能rpc
  - 视频评论列表返回
  - 发布评论操作
- 视频点赞功能rpc
  - 提供视频点赞量，是否点赞信息
  - 提供用户点赞量信息，获赞信息
  - 视频点赞操作
  - 创建视频点赞信息和用户点赞信息
- 用户关注功能rpc
  - 提供用户是否关注，关注量信息
  - 用户关注操作
  - 创建用户关注信息
