/*
 * @Author: LIKE_A_STAR
 * @Date: 2023-11-10 17:28:27
 * @LastEditors: LIKE_A_STAR
 * @LastEditTime: 2024-01-21 22:03:35
 * @Description:
 * @FilePath: \vscode programd:\vscode\goWorker\src\douyin\cmd\hertz-cmd\main.go
 */
// Code generated by hertz generator.

package main

import (
	"douyin/internal/pkg/dal"
	"douyin/internal/pkg/dal/user_dal"
	"douyin/internal/pkg/dal/video_dal"
	"douyin/internal/pkg/kitex_client"
	"douyin/internal/pkg/mw"

	"github.com/cloudwego/hertz/pkg/app/server"
	"github.com/hertz-contrib/gzip"
)

func main() {
	mw.InitJwt()
	user_dal.Init()
	dal.InitRedis()
	video_dal.Init()
	kitex_client.Init()

	h := server.Default(
		server.WithHostPorts("0.0.0.0:8080"),
		server.WithMaxRequestBodySize(50*1024*1024),
	)

	h.Use(gzip.Gzip(gzip.BestCompression))

	register(h)
	h.Spin()
}
